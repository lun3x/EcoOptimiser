<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3.css">
  <head>
    <script src="lib/jquery-3.1.1.min.js"></script>
    <script src="lib/jquery.csv.js"></script>
    <script src="wind/windPower.js" type="text/javascript"></script> 
    <script src="dataReading.js" type="text/javascript"></script> 
    <style>
      #map {
        height: 600px;
        width: 75%;
       }
    </style>
  </head>
  <body>
        <div class="w3-panel">
            <h1>EcoOptimiser</h1>
            <h2>Finding the optimal locations for renewable energy</h2>
        </div>
        <div class="w3-cell-row">
            <div id="map" class="w3-cell w3-panel w3-border"></div>
            <div class="w3-cell w3-panel w3-border">
                <h3>Optimal Locations for:</h3>
                <div class="w3-cell-row">
                    <div class="w3-cell">
                        <button class="w3-button w3-white w3-border w3-border-red w3-round-large" onclick="loadWind()">Wind</button>
                    </div>
                    <div class="w3-cell">
                        <button class="w3-cell w3-button w3-white w3-border w3-border-red w3-round-large" 
                        onclick="loadMap(1)">Solar</button>
                    </div>
                    <div class="w3-cell">
                        <button class="w3-cell w3-button w3-white w3-border w3-border-red w3-round-large" onclick="loadMap(2)">Tidal</button>
                    </div>
                </div>
            </div>
      </div>
    <script>
      function initMap() {
        
        var windData = [];
          
        $(document).ready(function() {
            $.ajax({
                type: "GET",
                url: "http://localhost:8000/wind/WindSpeed.csv",
                dataType: "text",
                success: function(data) {
                    windData = processData(data);
                    var uk = {lat: 54.000, lng: -2.5478};
                    var map = new google.maps.Map(document.getElementById('map'), {
                        zoom: 5,
                        center: uk
                    });
                    initWindPower(map,windData);
                }
            });
        });

      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCS7yxaTkdNhukqXo0vFKA4nZfq_ZTip4k&callback=initMap">
    </script>
  </body>
</html>